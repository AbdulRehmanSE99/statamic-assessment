{{# Accordion Component with Group Support #}}
{{# Usage: {{ partial:components/accordion title="Your Title" content="Your Content" group="groupName" }} #}}
{{# For grouped accordions, add group="sameGroupName" to each accordion in the group #}}

<div x-data="{
    open: false,
    group: '{{ group ?? 'default' }}',
    toggle() {
        if (this.open) {
            this.open = false;
        } else {
            // Close all other accordions in the same group
            this.$dispatch('close-accordion-group', { group: this.group, except: this.$el });
            this.open = true;
        }
    }
}" @close-accordion-group.window="if ($event.detail.group === group && $event.detail.except !== $el) open = false"
    class="border-gray-200 hover:shadow-md transition-shadow duration-300 {{ group ? 'border-l border-r border-t mb-0' : 'border rounded-lg mb-4' }}">
    <button @click="toggle()"
        class="w-full px-6 py-4 bg-gradient-to-r from-blue-50 to-green-50 hover:from-blue-100 hover:to-green-100 flex justify-between items-center text-left transition-all duration-300">
        <div class="flex items-center space-x-3">
            <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                    d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"
                    clip-rule="evenodd" />
            </svg>
            <span class="text-lg font-semibold text-gray-800">{{ title }}</span>
        </div>
        <svg class="w-5 h-5 text-gray-600 transition-transform duration-300" :class="open ? 'rotate-180' : ''"
            fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
    </button>
    <div x-show="open" x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 transform -translate-y-2"
        x-transition:enter-end="opacity-100 transform translate-y-0"
        x-transition:leave="transition ease-in duration-300"
                 x-transition:leave-start="opacity-100 transform translate-y-0"
         x-transition:leave-end="opacity-0 transform -translate-y-2" class="px-6 py-4 bg-white text-gray-700">
         <div class="bard-content">
             {{ content }}
         </div>
     </div>
</div>
